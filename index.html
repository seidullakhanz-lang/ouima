<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8" />
<title>“ö–∞–∑–∞“õ “õ–æ–ª”©–Ω–µ—Ä—ñ ‚Äì –û–π—ã–Ω–¥–∞—Ä</title>

<style>
    body {
        font-family: "Arial", sans-serif;
        background: #fcefdc url("1.jpeg") no-repeat center top;
        background-size: 500px;
        padding: 20px;
        color: #3c1e0b;
    }

    h1, h2 {
        text-align: center;
        color: #5a2f12;
        text-shadow: 1px 1px white;
    }

    .block {
        background: #fff8e6;
        border: 5px solid #8b4513;
        border-radius: 15px;
        padding: 20px;
        margin: 30px 0;
        box-shadow: 0 0 10px #8b4513;
    }

    .title-ornament img {
        width: 120px;
        display: block;
        margin: 0 auto 15px;
    }

    .container {
        display: flex;
        justify-content: center;
        gap: 25px;
        flex-wrap: wrap;
        margin-top: 10px;
    }

    .item, .target {
        width: 160px;
        height: 160px;
        border: 3px solid #8b4513;
        border-radius: 12px;
        background: white;
        padding: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }

    .item { cursor: grab; }

    .item img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        background: white;
    }

    .target {
        background: #ffedc4;
        font-weight: bold;
    }

    #result {
        font-size: 20px;
        text-align: center;
        margin-top: 10px;
        font-weight: bold;
        color: green;
    }

    /* –õ–∞–±–∏—Ä–∏–Ω—Ç */
    #maze {
        display: grid;
        grid-template-columns: repeat(10, 40px);
        gap: 3px;
        margin: 20px auto;
    }

    .cell {
        width: 40px;
        height: 40px;
        border-radius: 8px;
    }

    .wall { background: #8b4513; border: 2px solid #5a2f12; }
    .start { background: #77cc77; border: 2px solid #2d7a2d; }
    .end { background: #ffcc66; border: 2px solid #b27a22; }
    .player { background: #4da3ff; border: 2px solid #1a5fa3; }

    #msg {
        text-align: center;
        font-size: 22px;
        color: green;
        font-weight: bold;
        margin-top: 10px;
    }

    /* –í–∏–¥–µ–æ –º–æ–¥–∞–ª */
    #videoModal {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.75);
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }

    #videoModal video {
        width: 90%;
        max-height: 90%;
        object-fit: contain;
        border: 5px solid white;
        border-radius: 15px;
        box-shadow: 0 0 20px black;
    }
</style>
</head>
<body>

<h1>“ö–∞–∑–∞“õ—Ç—ã“£ “±–ª—Ç—Ç—ã“õ “õ–æ–ª”©–Ω–µ—Ä—ñ ‚Äì –û–π—ã–Ω–¥–∞—Ä üé®üß∂</h1>


<!-- ======================= 1-—à—ñ –æ–π—ã–Ω ======================= -->
<div class="block">
    <div class="title-ornament">
        <img src="7.jpg">
    </div>

    <h2>1) “ö–æ–ª”©–Ω–µ—Ä–¥—ñ —Å”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä!</h2>

    <div class="container" id="images">
        <div class="item" draggable="true" data-name="–ö—ñ–ª–µ–º —Ç–æ“õ—É">
            <img src="1.jpg">
        </div>
        <div class="item" draggable="true" data-name="–ö–µ—Å—Ç–µ —Ç—ñ–≥—É">
            <img src="2.jpg">
        </div>
        <div class="item" draggable="true" data-name="–¢–µ–∫–µ–º–µ—Ç –±–∞—Å—É">
            <img src="3.jpeg">
        </div>
    </div>

    <div class="container">
        <div class="target" data-name="–ö—ñ–ª–µ–º —Ç–æ“õ—É">–ö—ñ–ª–µ–º —Ç–æ“õ—É</div>
        <div class="target" data-name="–ö–µ—Å—Ç–µ —Ç—ñ–≥—É">–ö–µ—Å—Ç–µ —Ç—ñ–≥—É</div>
        <div class="target" data-name="–¢–µ–∫–µ–º–µ—Ç –±–∞—Å—É">–¢–µ–∫–µ–º–µ—Ç –±–∞—Å—É</div>
    </div>

    <div id="result"></div>
</div>


<!-- ======================= 2-—à—ñ –æ–π—ã–Ω ======================= -->
<div class="block">
    <div class="title-ornament">
        <img src="6.jpg">
    </div>

    <h2>2) –õ–∞–±–∏—Ä–∏–Ω—Ç—Ç–µ–Ω ”©—Ç! üåÄ</h2>
    <p style="text-align:center;">–ñ–µ–±–µ –ø–µ—Ä–Ω–µ–ª–µ—Ä—ñ–º–µ–Ω –±–∞—Å“õ–∞—Ä</p>

    <div id="maze"></div>
    <div id="msg"></div>
</div>


<!-- –í–∏–¥–µ–æ –º–æ–¥–∞–ª -->
<div id="videoModal">
    <video id="finishVideo" src="n.mp4" controls></video>
</div>


<!-- –î—ã–±—ã—Å—Ç–∞—Ä -->
<audio id="soundCorrect" src="1.mp3"></audio>
<audio id="soundWrong" src="2.mp3"></audio>
<audio id="soundWin" src="3.mp3"></audio>


<script>
/* ------------ 1-–æ–π—ã–Ω ------------ */

const soundCorrect = document.getElementById("soundCorrect");
const soundWrong = document.getElementById("soundWrong");
const soundWin = document.getElementById("soundWin");

const items = document.querySelectorAll('.item');
const targets = document.querySelectorAll('.target');
let correct = 0;

items.forEach(item => {
    item.addEventListener('dragstart', () => item.classList.add('dragging'));
    item.addEventListener('dragend', () => item.classList.remove('dragging'));
});

targets.forEach(t => {
    t.addEventListener('dragover', e => e.preventDefault());
    t.addEventListener('drop', () => {
        const dragged = document.querySelector('.dragging');

        if (dragged.dataset.name === t.dataset.name) {
            t.appendChild(dragged);
            soundCorrect.play();
            correct++;

            if (correct === 3) {
                document.getElementById("result").textContent = "–ñ–∞—Ä–∞–π—Å—ã“£! ”®—Ç–µ –∂–∞“õ—Å—ã!";
                soundWin.play();
            }

        } else {
            soundWrong.play();
        }
    });
});


/* ------------ 2-–æ–π—ã–Ω ‚Äì –õ–∞–±–∏—Ä–∏–Ω—Ç ------------ */
const layout = [
    [0,0,1,0,0,0,1,0,0,0],
    [1,0,1,0,1,0,1,0,1,0],
    [0,0,0,0,1,0,0,0,1,0],
    [0,1,1,1,1,1,1,0,1,0],
    [0,0,0,0,0,0,1,0,0,0],
    [1,1,1,1,1,0,1,1,1,0],
    [0,0,0,0,1,0,0,0,1,0],
    [0,1,1,0,1,1,1,0,1,0],
    [0,0,1,0,0,0,0,0,1,0],
    [0,1,0,0,1,1,1,0,0,0]
];

let player = {x:0, y:0};
const end = {x:9, y:9};

function drawMaze(){
    maze.innerHTML="";
    for(let y=0;y<10;y++){
        for(let x=0;x<10;x++){
            let cell=document.createElement("div");
            cell.classList.add("cell");
            if(layout[y][x]===1) cell.classList.add("wall");
            if(x===0 && y===0) cell.classList.add("start");
            if(x===end.x && y===end.y) cell.classList.add("end");
            if(x===player.x && y===player.y) cell.classList.add("player");
            maze.appendChild(cell);
        }
    }
}

function move(dx,dy){
    let nx = player.x + dx;
    let ny = player.y + dy;

    if(nx<0 || nx>9 || ny<0 || ny>9) return;
    if(layout[ny][nx] === 1) return;

    player = {x:nx, y:ny};
    drawMaze();

    if(player.x === end.x && player.y === end.y){

        document.getElementById("msg").textContent = "–ñ–∞—Ä–∞–π—Å—ã“£! –°–µ–Ω –∂–µ“£–¥—ñ“£!";
        soundWin.play();

        // 7 —Å–µ–∫—É–Ω–¥ –∫“Ø—Ç—É
        setTimeout(() => {
            const modal = document.getElementById("videoModal");
            modal.style.display = "flex";

            const video = document.getElementById("finishVideo");
            video.play();
        }, 7000); // 7 —Å–µ–∫—É–Ω–¥
    }
}

document.addEventListener("keydown", e=>{
    if(e.key==="ArrowUp") move(0,-1);
    if(e.key==="ArrowDown") move(0,1);
    if(e.key==="ArrowLeft") move(-1,0);
    if(e.key==="ArrowRight") move(1,0);
});

drawMaze();
</script>

</body>
</html>
